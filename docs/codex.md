# codex.md — правила совместной работы с ИИ над проектом «Rozpocet»

Этот документ служит «памятью» и «договором» при взаимодействии с ИИ-ассистентами (ChatGPT, Claude, Codex и др.). Он помогает каждой новой сессии быстро войти в контекст и соблюдать единые правила.

---

## 1. О проекте

Проект **Rozpocet** объединяет инструменты, спецификации и прототипы, связанные с двумя основными направлениями:

- строительные сметы, шаблоны, автоматизация расчётов и вспомогательные сервисы;
- модуль **алготрейдинга** с рабочим названием `forex_bot`, включающий стратегию торговли EURUSD.

Развитие ведётся итеративно: часть задач относится к строительной тематике и документообороту, другая — к финансовым стратегиям и сопутствующим сервисам.

---

## 2. Структура репозитория (ориентировочная)

Фактическое состояние может отличаться, но целевая логика каталогов следующая:

```text
/
├─ docs/
│  ├─ codex.md                 ← этот файл (правила и контекст для ИИ)
│  ├─ TECH_SPEC_FOREX.md       ← ТЗ на форекс-стратегию EURUSD (MT5 + Python)
│  └─ (другие спецификации по сметам и смежным сервисам)
│
├─ forex_bot/
│  ├─ README.md
│  ├─ experts/
│  │  └─ EURUSD_TrendBreakout.mq5    ← советник для MT5
│  ├─ scripts/
│  │  └─ analyze_trades.py           ← анализ CSV логов сделок
│  └─ (дополнительные файлы: настройки, тесты и т.д.)
│
└─ (остальные директории, связанные со сметами, шаблонами, RTS/ÚRS и прочим)
```

---

## 3. Общие принципы взаимодействия с ИИ

1. **Сохранять контекст.** Перед началом новой сессии ИИ-ассистент должен ознакомиться с этим документом и действующим состоянием репозитория.
2. **Уточнять цели.** Перед изменениями формулировать задачу: цель, ожидаемый результат, критерии готовности.
3. **Прозрачность действий.** Любые изменения описывать в комментариях к коммитам и PR. В сообщениях фиксировать, что было сделано и почему.
4. **Согласованность.** При конфликте требований ориентироваться на приоритет: прямые указания пользователя → системные правила → договорённости из `codex.md`.
5. **Версионирование.** Вносить атомарные изменения, писать содержательные сообщения к коммитам, при необходимости добавлять тесты и проверять их выполнение.
6. **Документирование.** Если появляются новые правила или процессы, обновлять этот файл либо сопутствующую документацию в `docs/`.

---

## 4. Рабочий процесс и рекомендации

- **Исследование:** перед модификациями изучать существующий код и спецификации, особенно в `docs/` и `forex_bot/`.
- **Тестирование:** запускать доступные тесты/скрипты; при отсутствии — описывать, как можно проверить изменения вручную.
- **Коммуникация:** фиксировать открытые вопросы, предположения и допущения в описании задачи или PR.
- **История решений:** при появлении устойчивых практик обновлять `codex.md`, чтобы следующий ассистент опирался на актуальные правила.

---

## 5. TODO / Идеи для будущих улучшений

- Добавить ссылки на ключевые спецификации и актуальные дорожные карты.
- Сформулировать стандарты кодирования для различных языков (Python, MQL5 и др.).
- Описать типовой workflow для задач по строительным сметам и для модуля алготрейдинга.

---

*Последнее обновление: 2025-11-14*
